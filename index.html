<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog: GitLab Experiments</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            padding-top: 50px;
            background-color: #f9f9f9;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #333;
        }
        p {
            margin: 10px 0;
        }
        pre {
            background-color: #eee;
            border-radius: 5px;
            padding: 10px;
            overflow-x: auto;
        }
        code {
            font-family: 'Courier New', Courier, monospace;
            color: #d63384;
        }
        .code-block {
            background-color: #f4f4f4;
            border-left: 3px solid #d63384;
            margin: 20px 0;
            padding: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Blog Post: GitLab Experiments</h1>
    <p>by Adam Knapp </p>
    <p>Posted on March 25, 2024, for Machine Learning in Production (Carnegie Mellon University)</p>

    <h2>Outline</h2>
    <p>Here's a quick overview of what is covered:</p>
    <ul>
        <li><a href="#gitlab-background">GitLab Background</a></li>
        <li><a href="#gitlab-ml-ops">GitLab ML Ops</a></li>
        <li>
            <a href="#gitlab-experiments">GitLab Experiments</a>
            <ul>
                <li><a href="#gitlab-experiments-overview">Overview</a></li>
                <li><a href="#gitlab-experiments-setup">Setup</a></li>
                <li><a href="#gitlab-experiments-example">Example</a></li>
            </ul>
        </li>
    </ul>

    <h2 id="gitlab-background">GitLab Background</h2>
    <p><a href="https://about.gitlab.com/">GitLab</a>, founded in 2014, quickly emerged as a frontrunner in the DevOps 
        toolchain, offering a single application for the entire software development lifecycle. From project planning and 
        source code management to CI/CD, monitoring, and security, GitLab has provided comprehensive solutions that 
        streamline productivity and foster a collaborative environment for software development teams. Its ability to 
        support both the development and operations side of projects makes it particularly appealing for managing machine 
        learning (ML) projects, which inherently require cross-disciplinary collaboration between software engineers and 
        data scientists.</p>

    <h2 id="gitlab-ml-ops">GitLab ML Ops</h2>
    <p>MLOps, a compound of machine learning and operations, aims to unify ML system development and ML system deployment. 
        The goal of MLOPs is to shorten the lifecycle of deploying machine learning models and provide continuous feedback between models 
        and development to ensure models are valuable and efficient. GitLab naturally facilitates MLOps with its DevOps toolchain (ie. CI/CD 
        automated testing, monitoring, ect.) but they saw the need to include some MLOps specific tools to reduce the gap between data scientist 
        and software developers.</p>

    <figure>
    <img src="Images/MLOps.webp" alt="Overview of MLOps" style="max-width:100%; height:auto;">
    <figcaption>Visual representation of MLOps integration in GitLab.</figcaption>
    </figure>
    

    <p>One major hurdle for MLOps is the messiness of model/data exploration. ML developers typically use jupyter notebooks and don't structure the notebook in a standardized way
        making each notebook hard for colaberation. To combat this phenomina, Model registry tools like MLflow, W&B, ect. were made to help track 
        model production and help facilitate the effective sharing of models. These tools allow developers to log aspects of their models to ensure reproducability for organization
     </p>
    
     <p> GitLab added the benifits of a model registry by incorperating MLFlow into their interface. First, the MFflow client 
    which would normally be hosted on a seperate server is hosted on the GitLab endpoint allowing all team members visibility into 
    ML model production. Second, GitLab nests it's experiements with 
    ML Flows allowing ML developers to log and store information about significant model's trained to assist in sharing within the team. Third,
    GitLab included a Model Registry section to version models for deployment. The model registry can take a model experiment and 
    move it into a condolidated location where Operators have a the latest production ready models available with their artifiacts.
    Finally using exisiting GitLab DEV tools, the deployment of models can be automated into new or existing pipelines</p>


    <h2 id="gitlab-experiments">GitLab Experiments</h2>

    <h3 id="gitlab-experiments-overview">Overview</h3>

    <p>Experimentation is at the heart of machine learning. With <a href="https://docs.gitlab.com/ee/user/project/ml/experiment_tracking/#machine-learning-model-experiments">GitLab experiments</a>,   
        ML developers can log their models 
        in GitLab with the information needed to share their findings and make the model run reproducable.It is commonly perceived 
    that the Code, Data, and Enviornment are needed to be tracked with a model to make it reproducable. We'll highlight these aspects
    in our example</p>
        

    <p>GitLab experiments does not force you to log your model in a way to ensure it is reporducable, but in my example below 
        I will highlight a basic way to. Understand that every team is different and you will need to cator how you use experiments 
        to your team.  
    </p>

    <h3 id="gitlab-experiments-setup">Setup</h3>

    <p>This feature is still in Beta testing and has very limited documentaion. I will provide a step by step tutorial on 
        how to implement so that you don't have the same issues I did. To complete this you should already have a GitLab account
        with at least one project.
    </p>
    

    <h4>Set Up GitLab API Key</h4>

    <ul>
        <li>Project Tokens 
            <figure>
                <img src="Images/AccessTokens.png" alt="Tokens" style="max-width:100%; height:auto;">
                <figcaption>In your project, Navigate to 'SETTINGS' -> 'ACCESS TOKENS'</figcaption>
                </figure>
        </li>
        <li>Add Token 
            <figure>
                <img src="Images/AddNewToken.png" alt="Screen shot on: How to add a new token" style="max-width:100%; height:auto;">
                <figcaption>Navigate to 'ADD NEW TOKEN'</figcaption>
                </figure>
        </li>
        <li>Token Configuration
            <figure>
                <img src="Images/AddaProjectToken.png" alt="Screen shot on: How to configure a project Token" style="max-width:100%; height:auto;">
                <figcaption>Name you token, Set exporation date, Select 'DEVELOPER' role (Experiments needs minimum of Developer role), Check "API" for Access Scope (Required Scope)</figcaption>
                </figure> 
        </li>
        <li>Save Token 
            <figure>
                <img src="Images/SaveProjectToken.png" alt="Screen shot on: Where to save token" style="max-width:100%; height:auto;">
                <figcaption>Copy and save this token for later use</figcaption>
                </figure> 
        </li>
    </ul>

    <h4>Configuration</h4>

    <ul>
        <li></li>
        <li>Set environment variables of MLFlow to Gitlab
            <div class="code-block">
                <pre><code>
                    os.environ["MLFLOW_TRACKING_TOKEN"]='<your token>'
                    os.environ["MLFLOW_TRACKING_URI"]='http://<your gitlab instance>/api/v4/projects/<your project id>/ml/mlflow'</code></pre>
            </div>
        
        </li>
    </ul>



    <h3 id="gitlab-experiments-example">Example</h3>
    




    <h3>How to Format Code</h3>
    <p>Displaying code within your blog can be a challenge, but it's essential for technical topics. Here's how you can add a code snippet:</p>
    <div class="code-block">
        <pre><code>// Example JavaScript function
function sayHello() {
    console.log("Hello, world!");
}</code></pre>
    </div>

    <p>The above example shows a simple JavaScript function. Notice how we use the <code>pre</code> and <code>code</code> tags for proper formatting.</p>
</div>

</body>
</html>
